<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="Definitions_0z51br2" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="3.0.0-beta.2">
  <bpmn:collaboration id="HealthInsuranceProcessDavid">
    <bpmn:participant id="Participant_11arpnk" name="Customer Support" processRef="Process_HealthInsurance" />
    <bpmn:participant id="Participant_17bhftx" name="Customer" />
    <bpmn:messageFlow id="MessageFlow_17zf0ro" sourceRef="Participant_17bhftx" targetRef="StartEvent_receiveApplication" />
    <bpmn:messageFlow id="MessageFlow_0bnmkvc" sourceRef="Task_sendContractToCustomer" targetRef="Participant_17bhftx" />
    <bpmn:messageFlow id="MessageFlow_0ygn8rd" sourceRef="Participant_17bhftx" targetRef="StartEvent_1elbdov" />
    <bpmn:messageFlow id="MessageFlow_0ogch6n" sourceRef="Task_AskHealthQuestions" targetRef="Participant_17bhftx" />
    <bpmn:messageFlow id="MessageFlow_0id0k09" sourceRef="EndEvent_emailRejectApplication" targetRef="Participant_17bhftx" />
    <bpmn:messageFlow id="MessageFlow_1b1wv85" sourceRef="IntermediateThrowEvent_0hrosi3" targetRef="Participant_17bhftx" />
    <bpmn:messageFlow id="MessageFlow_1rhs2bg" sourceRef="Participant_17bhftx" targetRef="IntermediateThrowEvent_receiveSignedContract" />
  </bpmn:collaboration>
  <bpmn:process id="Process_HealthInsurance" name="Health Insurance Process (current)" isExecutable="true">
    <bpmn:laneSet id="LaneSet_1wkwfu0">
      <bpmn:lane id="Lane_0bltqy3" name="IT-System">
        <bpmn:flowNodeRef>ExclusiveGateway_resultAssessment</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>ExclusiveGateway_SupplementaryInsruanceSelected</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>StartEvent_receiveApplication</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>StartEvent_1elbdov</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>EndEvent_0055xl1</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>EndEvent_emailRejectApplication</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task_AskHealthQuestions</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>IntermediateThrowEvent_0hrosi3</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task_updateStatusInContractDatabase</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>IntermediateThrowEvent_receiveSignedContract</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>ExclusiveGateway_1q1uc51</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task_rejectCase</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task_assesCase</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task_updateApplicationStatusToUnsigned</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>EndEvent_applicationClosed</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task_calculatePrices</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task_sendContractToCustomer</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task_InsertContractToDatabase</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task_createContract</bpmn:flowNodeRef>
        <bpmn:childLaneSet id="LaneSet_1yrjch4" />
      </bpmn:lane>
      <bpmn:lane id="Lane_0cefaof" name="Agent">
        <bpmn:flowNodeRef>Task_humanDecides</bpmn:flowNodeRef>
      </bpmn:lane>
    </bpmn:laneSet>
    <bpmn:exclusiveGateway id="ExclusiveGateway_resultAssessment" name="Result of asessment">
      <bpmn:incoming>SequenceFlow_1v49919</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_125s3z0</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1o6jn2x</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_1otr561</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_1i3c337</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:exclusiveGateway id="ExclusiveGateway_SupplementaryInsruanceSelected" name="Supplementary insurance selected?">
      <bpmn:incoming>SequenceFlow_1vz2tl9</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_039mupp</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_18y3ey3</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:startEvent id="StartEvent_receiveApplication" name="Receive application">
      <bpmn:extensionElements>
        <camunda:formData businessKey="_businessKey">
          <camunda:formField id="sFirstName" label="First Name" type="string">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="sLastName" label="Last Name" type="string">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="nAge" label="Age" type="long" />
          <camunda:formField id="eCitizenShip" label="Citzienship" type="enum">
            <camunda:value id="_CH" name="Switzerland" />
            <camunda:value id="_DE" name="Germany" />
            <camunda:value id="_OT" name="Other Countries" />
          </camunda:formField>
          <camunda:formField id="sStreet" label="Street" type="string" />
          <camunda:formField id="nZipCode" label="Zip Code" type="long" />
          <camunda:formField id="sCity" label="City" type="string" />
          <camunda:formField id="sEmail" label="Email" type="string" />
          <camunda:formField id="eGender" label="Gender" type="enum">
            <camunda:value id="_m" name="male" />
            <camunda:value id="_f" name="female" />
          </camunda:formField>
          <camunda:formField id="eBaseInsuranceType" label="Base insurance type" type="enum">
            <camunda:value id="_hmo" name="HMO Model" />
            <camunda:value id="_telmed" name="Telmed Model" />
            <camunda:value id="_familyDoctor" name="Familiy Doctor Model" />
            <camunda:value id="_standard" name="Standard Model" />
          </camunda:formField>
          <camunda:formField id="bAlternativeInsurance" label="Select alternative insurance" type="boolean" />
          <camunda:formField id="eAlternativeInsuranceType" label="Alternative insurance type" type="enum">
            <camunda:value id="_chinese" name="Chinese medicine" />
            <camunda:value id="_accupuncture" name="Accupuncture" />
            <camunda:value id="_chineseAccupuncture" name="Chinese medicine and accupuncture" />
          </camunda:formField>
          <camunda:formField id="bDentalTreatment" label="Select dental treatment" type="boolean" />
          <camunda:formField id="eDentalTreatmentCoverage" label="Coverage for dental treatment " type="enum">
            <camunda:value id="_2000" name="CHF 2&#39;000" />
            <camunda:value id="_5000" name="CHF 5&#39;000" />
          </camunda:formField>
          <camunda:formField id="bLifeInsurance" label="Select life insurance" type="boolean" />
          <camunda:formField id="eLifeInsuranceCoverage" label="Coverage by death" type="enum">
            <camunda:value id="_100000" name="CHF 100&#39;000" />
            <camunda:value id="_050000" name="CHF 50&#39;000" />
          </camunda:formField>
          <camunda:formField id="eFranchise" type="enum">
            <camunda:value id="_0500" name="CHF 500" />
            <camunda:value id="_1000" name="CHF 1&#39;000" />
            <camunda:value id="_2500" name="CHF 2&#39;500" />
          </camunda:formField>
          <camunda:formField id="bAccidentCoverage" type="boolean" />
          <camunda:formField id="_businessKey" type="string" defaultValue="thisIsMyDefaultBusinessKey" />
          <camunda:formField id="fWeight" type="long" defaultValue="0" />
          <camunda:formField id="fHeight" type="long" defaultValue="0" />
          <camunda:formField id="bBodybuilder" type="boolean" defaultValue="false" />
          <camunda:formField id="bDisabilityOrBirthDefect" type="boolean" defaultValue="false" />
          <camunda:formField id="bOngoingTreatmentOrSurgery" type="boolean" defaultValue="false" />
          <camunda:formField id="bPastRejection" type="boolean" defaultValue="false" />
          <camunda:formField id="bDrugTaker" type="boolean" defaultValue="false" />
          <camunda:formField id="bHivInfected" type="boolean" defaultValue="false" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:outgoing>SequenceFlow_1vz2tl9</bpmn:outgoing>
      <bpmn:messageEventDefinition messageRef="Message_0vsfji7" />
    </bpmn:startEvent>
    <bpmn:intermediateCatchEvent id="StartEvent_1elbdov" name="Recieve answers">
      <bpmn:incoming>SequenceFlow_0tt7isc</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1erw4e2</bpmn:outgoing>
      <bpmn:messageEventDefinition messageRef="Message_1mwdi79" />
    </bpmn:intermediateCatchEvent>
    <bpmn:endEvent id="EndEvent_0055xl1" name="Application closed">
      <bpmn:incoming>SequenceFlow_0cbd3i6</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:intermediateThrowEvent id="EndEvent_emailRejectApplication" name="Email Reject Application">
      <bpmn:extensionElements />
      <bpmn:incoming>SequenceFlow_0q9rb4q</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0cbd3i6</bpmn:outgoing>
      <bpmn:messageEventDefinition messageRef="Message_0pyxu08">
        <bpmn:extensionElements>
          <camunda:connector>
            <camunda:inputOutput>
              <camunda:inputParameter name="method">POST</camunda:inputParameter>
              <camunda:inputParameter name="url">https://hook.integromat.com/2hs8inluvcgsg79vvcsqtd70znhrs65t</camunda:inputParameter>
              <camunda:inputParameter name="headers">
                <camunda:map>
                  <camunda:entry key="Content-Type">application/json</camunda:entry>
                </camunda:map>
              </camunda:inputParameter>
              <camunda:inputParameter name="payload">
                <camunda:script scriptFormat="JavaScript">out=JSON.stringify({
"sLastName": sLastName,
"eGender": eGender,
"sEmail": sEmail
});</camunda:script>
              </camunda:inputParameter>
            </camunda:inputOutput>
            <camunda:connectorId>http-connector</camunda:connectorId>
          </camunda:connector>
        </bpmn:extensionElements>
      </bpmn:messageEventDefinition>
    </bpmn:intermediateThrowEvent>
    <bpmn:sendTask id="Task_AskHealthQuestions" name="Ask health questions">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="method">POST</camunda:inputParameter>
            <camunda:inputParameter name="url">https://hook.integromat.com/o73at2rbiaijc5ck5k9ia12j14rd2sqq</camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Content-Type">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
            <camunda:inputParameter name="payload">
              <camunda:script scriptFormat="JavaScript">out=JSON.stringify({
"sLastName": sLastName,
"eGender": eGender,
"sEmail": sEmail,
"sQuestionUrl": "http://root.chi-projects.ch/digibp-spiez-web/insurance-additional-questions.html?processInstanceId="+execution.processInstanceId+""
});</camunda:script>
            </camunda:inputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_039mupp</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0tt7isc</bpmn:outgoing>
    </bpmn:sendTask>
    <bpmn:sequenceFlow id="SequenceFlow_1v49919" sourceRef="Task_assesCase" targetRef="ExclusiveGateway_resultAssessment" />
    <bpmn:sequenceFlow id="SequenceFlow_1o6jn2x" name="reject" sourceRef="ExclusiveGateway_resultAssessment" targetRef="Task_rejectCase">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${(sEligibilityDecision== "reject" || eEligibilityDecisionByHuman=="_humanReject")}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_1otr561" name="accept" sourceRef="ExclusiveGateway_resultAssessment" targetRef="Task_calculatePrices">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${(sEligibilityDecision== "accept" || eEligibilityDecisionByHuman=="_humanAccept")}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_1vz2tl9" sourceRef="StartEvent_receiveApplication" targetRef="ExclusiveGateway_SupplementaryInsruanceSelected" />
    <bpmn:sequenceFlow id="SequenceFlow_039mupp" name="yes" sourceRef="ExclusiveGateway_SupplementaryInsruanceSelected" targetRef="Task_AskHealthQuestions">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${bDentalTreatment || bLifeInsurance || bAlternativeInsurance}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_18y3ey3" name="no" sourceRef="ExclusiveGateway_SupplementaryInsruanceSelected" targetRef="Task_assesCase">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${!(bDentalTreatment || bLifeInsurance || bAlternativeInsurance)}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_0tt7isc" sourceRef="Task_AskHealthQuestions" targetRef="StartEvent_1elbdov" />
    <bpmn:sequenceFlow id="SequenceFlow_1erw4e2" sourceRef="StartEvent_1elbdov" targetRef="Task_assesCase" />
    <bpmn:sequenceFlow id="SequenceFlow_0cbd3i6" sourceRef="EndEvent_emailRejectApplication" targetRef="EndEvent_0055xl1" />
    <bpmn:sequenceFlow id="SequenceFlow_075u5a4" sourceRef="Task_updateStatusInContractDatabase" targetRef="IntermediateThrowEvent_0hrosi3" />
    <bpmn:sequenceFlow id="SequenceFlow_0q9rb4q" sourceRef="Task_rejectCase" targetRef="EndEvent_emailRejectApplication" />
    <bpmn:sequenceFlow id="SequenceFlow_0gl41x5" sourceRef="IntermediateThrowEvent_0hrosi3" targetRef="EndEvent_applicationClosed" />
    <bpmn:intermediateThrowEvent id="IntermediateThrowEvent_0hrosi3" name="Send contract confirmation">
      <bpmn:extensionElements />
      <bpmn:incoming>SequenceFlow_075u5a4</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0gl41x5</bpmn:outgoing>
      <bpmn:messageEventDefinition>
        <bpmn:extensionElements>
          <camunda:connector>
            <camunda:inputOutput>
              <camunda:inputParameter name="method">POST</camunda:inputParameter>
              <camunda:inputParameter name="url">https://hook.integromat.com/127ydyn8b6ikfghacoxam8t4v9dft11u</camunda:inputParameter>
              <camunda:inputParameter name="headers">
                <camunda:map>
                  <camunda:entry key="Content-Type">application/json</camunda:entry>
                </camunda:map>
              </camunda:inputParameter>
              <camunda:inputParameter name="payload">
                <camunda:script scriptFormat="JavaScript">out=JSON.stringify({
"sLastName": sLastName,
"eGender": eGender,
"sEmail": sEmail
});</camunda:script>
              </camunda:inputParameter>
            </camunda:inputOutput>
            <camunda:connectorId>http-connector</camunda:connectorId>
          </camunda:connector>
        </bpmn:extensionElements>
      </bpmn:messageEventDefinition>
    </bpmn:intermediateThrowEvent>
    <bpmn:sequenceFlow id="SequenceFlow_0r90eeg" name="Yes" sourceRef="ExclusiveGateway_1q1uc51" targetRef="Task_updateStatusInContractDatabase">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${bContractSigned==true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:serviceTask id="Task_updateStatusInContractDatabase" name="Update status in contract data base">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="method">POST</camunda:inputParameter>
            <camunda:inputParameter name="url">https://hook.integromat.com/y2v165rg1jjntnn5iax9umspik9llsxl</camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Content-Type">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
            <camunda:inputParameter name="payload">
              <camunda:script scriptFormat="JavaScript">out=JSON.stringify({
"processInstanceId": execution.processInstanceId,
"sStatus": "signed"
});</camunda:script>
            </camunda:inputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0r90eeg</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_075u5a4</bpmn:outgoing>
      <bpmn:property id="Property_0apppuk" name="__targetRef_placeholder" />
      <bpmn:dataInputAssociation id="DataInputAssociation_10u0hay">
        <bpmn:sourceRef>DataStoreReference_customerData</bpmn:sourceRef>
        <bpmn:targetRef>Property_0apppuk</bpmn:targetRef>
      </bpmn:dataInputAssociation>
      <bpmn:dataOutputAssociation id="DataOutputAssociation_0bedaj4">
        <bpmn:targetRef>DataStoreReference_customerData</bpmn:targetRef>
      </bpmn:dataOutputAssociation>
    </bpmn:serviceTask>
    <bpmn:intermediateCatchEvent id="IntermediateThrowEvent_receiveSignedContract" name="Receive signed contract">
      <bpmn:incoming>SequenceFlow_0x57k0p</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_18kpqik</bpmn:outgoing>
      <bpmn:messageEventDefinition messageRef="Message_1dj4s63" />
    </bpmn:intermediateCatchEvent>
    <bpmn:dataStoreReference id="DataStoreReference_customerData" name="application databse" />
    <bpmn:sequenceFlow id="SequenceFlow_18kpqik" sourceRef="IntermediateThrowEvent_receiveSignedContract" targetRef="ExclusiveGateway_1q1uc51" />
    <bpmn:exclusiveGateway id="ExclusiveGateway_1q1uc51" name="Contract signed?&#10;&#10;">
      <bpmn:incoming>SequenceFlow_18kpqik</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0r90eeg</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_1d8u0in</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_1d8u0in" name="No" sourceRef="ExclusiveGateway_1q1uc51" targetRef="Task_updateApplicationStatusToUnsigned">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${bContractSigned==false}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:serviceTask id="Task_rejectCase" name="Reject case">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="method">POST</camunda:inputParameter>
            <camunda:inputParameter name="url">https://hook.integromat.com/aulm3jmewet9rvlicpzzdr01aq40ce7n</camunda:inputParameter>
            <camunda:inputParameter name="payload">
              <camunda:script scriptFormat="JavaScript">function formatDate(date) {
    var d = new Date(date),
        month = '' + (d.getMonth() + 1),
        day = '' + d.getDate(),
        year = d.getFullYear();

    if (month.length &lt; 2) month = '0' + month;
    if (day.length &lt; 2) day = '0' + day;

    return [year, month, day].join('-');
}


out=JSON.stringify(
{
	"sFirstName": sFirstName,
	"sLastName": sLastName,
	"eGender": eGender,
	"sEmail": sEmail,
	"sApplicationID": execution.processInstanceId,
	"sStatus": "rejected",
	"dBirthDate"	:	dBirthDate	,
	"eGender"	:	eGender	,
	"nAge"	:	nAge	,
	"eCitizenShip"	:	eCitizenShip	,
	"sStreet"	:	sStreet	,
	"nZipCode"	:	nZipCode	,
	"sCity"	:	sCity	,
	"sEmail"	:	sEmail	,
	"eBaseInsuranceType"	:	eBaseInsuranceType	,
	"eFranchise"	:	eFranchise	,
	"bAccidentCoverage"	:	bAccidentCoverage	,
	"bAlternativeInsurance"	:	bAlternativeInsurance	,
	"eAlternativeInsuranceType"	:	eAlternativeInsuranceType	,
	"bDentalTreatment"	:	bDentalTreatment	,
	"eDentalTreatmentCoverage"	:	eDentalTreatmentCoverage	,
	"bLifeInsurance"	:	bLifeInsurance	,
	"eLifeInsuranceCoverage"	:	eLifeInsuranceCoverage	,
	"bDisabilityOrBirthDefect"	:	bDisabilityOrBirthDefect	,
	"bOngoingTreatmentOrSurgery"	:	bOngoingTreatmentOrSurgery	,
	"bPastRejection"	:	bPastRejection	,
	"bDrugTaker"	:	bDrugTaker	,
	"bHivInfected"	:	bHivInfected	,
	"fHeight"	:	fHeight	,
	"fWeight"	:	fWeight	,
	"bBodybuilder"	:	bBodybuilder	,
	"fBMI"	:	fBMI	,
	"sAreaType"	:	""	,
	"nPersonFactor"	:	"",
	"sPersonProfile"	:	""	,
	"nEndPriceDentalInsurance"	:	""	,
	"nEndPriceBasicInsurance"	:	""	,
	"nEndPriceAlternativeInsurance"	:	""	,
	"nEndPriceLifeInsurance"	:	""	,
	"nBasePriceBasicInsurance"	:	""	,
	"nBasePriceDentalInsurance"	:	""	,
	"nBasePriceLifeInsurance"	:	""	,
	"nBasePriceAlternativeInsurance"	:	""	,
	"dtCreated"	:	formatDate(new Date())	,
	"dtModified"	:	formatDate(new Date())	,
	"processVersion"	:	execution.version	
});</camunda:script>
            </camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Content-Type">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1o6jn2x</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0q9rb4q</bpmn:outgoing>
      <bpmn:dataOutputAssociation id="DataOutputAssociation_1yh4nyw">
        <bpmn:targetRef>DataStoreReference_customerData</bpmn:targetRef>
      </bpmn:dataOutputAssociation>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_1i3c337" name="manual assessment" sourceRef="ExclusiveGateway_resultAssessment" targetRef="Task_humanDecides">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${sEligibilityDecision== "manualAssessment"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_125s3z0" sourceRef="Task_humanDecides" targetRef="ExclusiveGateway_resultAssessment" />
    <bpmn:callActivity id="Task_assesCase" name="Assess case" calledElement="Process_assess_case">
      <bpmn:extensionElements>
        <camunda:in source="dBirthDate" target="dBirthDate" />
        <camunda:in source="eGender" target="eGender" />
        <camunda:in source="nAge" target="nAge" />
        <camunda:in source="nZipCode" target="nZipCode" />
        <camunda:in source="eBaseInsuranceType" target="eBaseInsuranceType" />
        <camunda:in source="bBasicInsuranceOnly" target="bBasicInsuranceOnly" />
        <camunda:in source="eFranchise" target="eFranchise" />
        <camunda:in source="bAccidentCoverage" target="bAccidentCoverage" />
        <camunda:in source="bAlternativeInsurance" target="bAlternativeInsurance" />
        <camunda:in source="eAlternativeInsuranceType" target="eAlternativeInsuranceType" />
        <camunda:in source="bDentalTreatment" target="bDentalTreatment" />
        <camunda:in source="eDentalTreatmentCoverage" target="eDentalTreatmentCoverage" />
        <camunda:in source="bLifeInsurance" target="bLifeInsurance" />
        <camunda:in source="eLifeInsuranceCoverage" target="eLifeInsuranceCoverage" />
        <camunda:out source="sEligibilityDecision" target="sEligibilityDecision" />
        <camunda:in source="fWeight" target="fWeight" />
        <camunda:in source="fHeight" target="fHeight" />
        <camunda:in source="bBodybuilder" target="bBodybuilder" />
        <camunda:in source="bDisabilityOrBirthDefect" target="bDisabilityOrBirthDefect" />
        <camunda:in source="bOngoingTreatmentOrSurgery" target="bOngoingTreatmentOrSurgery" />
        <camunda:in source="bPastRejection" target="bPastRejection" />
        <camunda:in source="bDrugTaker" target="bDrugTaker" />
        <camunda:in source="bHivInfected" target="bHivInfected" />
        <camunda:out source="fBMI" target="fBMI" />
        <camunda:out source="nEligibilityScore" target="nEligibilityScore" />
        <camunda:out source="bSupplementaryInsurance" target="bSupplementaryInsurance" />
        <camunda:inputOutput>
          <camunda:outputParameter name="eEligibilityDecisionByHuman">_nothing</camunda:outputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_18y3ey3</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_1erw4e2</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1v49919</bpmn:outgoing>
    </bpmn:callActivity>
    <bpmn:userTask id="Task_humanDecides" name="human decides">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="eEligibilityDecisionByHuman" label="EligibilityDecisionByHuman" type="enum">
            <camunda:value id="_humanAccept" name="Accept" />
            <camunda:value id="_humanReject" name="Reject" />
            <camunda:value id="_nothing" />
          </camunda:formField>
          <camunda:formField id="sNote" label="Notes" type="string" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1i3c337</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_125s3z0</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="SequenceFlow_0tedwyb" sourceRef="Task_updateApplicationStatusToUnsigned" targetRef="EndEvent_applicationClosed" />
    <bpmn:serviceTask id="Task_updateApplicationStatusToUnsigned" name="update application status to unsigned">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="method">POST</camunda:inputParameter>
            <camunda:inputParameter name="url">https://hook.integromat.com/y2v165rg1jjntnn5iax9umspik9llsxl</camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Content-Type">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
            <camunda:inputParameter name="payload">
              <camunda:script scriptFormat="JavaScript">out=JSON.stringify({
"processInstanceId": execution.processInstanceId,
"sStatus": "unsigned"
});</camunda:script>
            </camunda:inputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1d8u0in</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0tedwyb</bpmn:outgoing>
      <bpmn:dataOutputAssociation id="DataOutputAssociation_1ck8d99">
        <bpmn:targetRef>DataStoreReference_customerData</bpmn:targetRef>
      </bpmn:dataOutputAssociation>
    </bpmn:serviceTask>
    <bpmn:endEvent id="EndEvent_applicationClosed" name="Application closed">
      <bpmn:incoming>SequenceFlow_0tedwyb</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_0gl41x5</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:callActivity id="Task_calculatePrices" name="Calculate Prices" calledElement="Process_calculatePrices">
      <bpmn:extensionElements>
        <camunda:in variables="all" />
        <camunda:out variables="all" />
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1otr561</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0jfpb9v</bpmn:outgoing>
    </bpmn:callActivity>
    <bpmn:sendTask id="Task_sendContractToCustomer" name="Send contract to customer">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="method">POST</camunda:inputParameter>
            <camunda:inputParameter name="url">https://hook.integromat.com/9pok51uratqwjukfnswiy52wzcnby2w8</camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Content-Type">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
            <camunda:inputParameter name="payload">
              <camunda:script scriptFormat="JavaScript">out=JSON.stringify({
"sLastName": sLastName,
"eGender": eGender,
"sEmail": sEmail,
"sQuestionUrl": "http://root.chi-projects.ch/digibp-spiez-web/insurance-confirm-contract.html?processInstanceId="+execution.processInstanceId+"",
"sContractUrl": sContractUrl
});</camunda:script>
            </camunda:inputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_09k1umo</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0x57k0p</bpmn:outgoing>
      <bpmn:property id="Property_1s9wzx6" name="__targetRef_placeholder" />
      <bpmn:dataInputAssociation id="DataInputAssociation_03u6bmu">
        <bpmn:sourceRef>DataObjectReference_contract</bpmn:sourceRef>
        <bpmn:targetRef>Property_1s9wzx6</bpmn:targetRef>
      </bpmn:dataInputAssociation>
    </bpmn:sendTask>
    <bpmn:serviceTask id="Task_InsertContractToDatabase" name="Insert contract to database" camunda:expression="$(test)">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="method">POST</camunda:inputParameter>
            <camunda:inputParameter name="url">https://hook.integromat.com/aulm3jmewet9rvlicpzzdr01aq40ce7n</camunda:inputParameter>
            <camunda:inputParameter name="payload">
              <camunda:script scriptFormat="JavaScript">function formatDate(date) {
    var d = new Date(date),
        month = '' + (d.getMonth() + 1),
        day = '' + d.getDate(),
        year = d.getFullYear();

    if (month.length &lt; 2) month = '0' + month;
    if (day.length &lt; 2) day = '0' + day;

    return [year, month, day].join('-');
}


out=JSON.stringify(
{
	"sFirstName": sFirstName,
	"sLastName": sLastName,
	"eGender": eGender,
	"sEmail": sEmail,
	"sApplicationID": execution.processInstanceId,
	"sStatus": "accepted",
	"dBirthDate"	:	dBirthDate	,
	"eGender"	:	eGender	,
	"nAge"	:	nAge	,
	"eCitizenShip"	:	eCitizenShip	,
	"sStreet"	:	sStreet	,
	"nZipCode"	:	nZipCode	,
	"sCity"	:	sCity	,
	"sEmail"	:	sEmail	,
	"eBaseInsuranceType"	:	eBaseInsuranceType	,
	"eFranchise"	:	eFranchise	,
	"bAccidentCoverage"	:	bAccidentCoverage	,
	"bAlternativeInsurance"	:	bAlternativeInsurance	,
	"eAlternativeInsuranceType"	:	eAlternativeInsuranceType	,
	"bDentalTreatment"	:	bDentalTreatment	,
	"eDentalTreatmentCoverage"	:	eDentalTreatmentCoverage	,
	"bLifeInsurance"	:	bLifeInsurance	,
	"eLifeInsuranceCoverage"	:	eLifeInsuranceCoverage	,
	"bDisabilityOrBirthDefect"	:	bDisabilityOrBirthDefect	,
	"bOngoingTreatmentOrSurgery"	:	bOngoingTreatmentOrSurgery	,
	"bPastRejection"	:	bPastRejection	,
	"bDrugTaker"	:	bDrugTaker	,
	"bHivInfected"	:	bHivInfected	,
	"fHeight"	:	fHeight	,
	"fWeight"	:	fWeight	,
	"bBodybuilder"	:	bBodybuilder	,
	"fBMI"	:	fBMI	,
	"sAreaType"	:	sAreaType	,
	"nPersonFactor"	:	nPersonFactor	,
	"sPersonProfile"	:	sPersonProfile	,
	"nEndPriceDentalInsurance"	:	nEndPriceDentalInsurance	,
	"nEndPriceBasicInsurance"	:	nEndPriceBasicInsurance	,
	"nEndPriceAlternativeInsurance"	:	nEndPriceAlternativeInsurance	,
	"nEndPriceLifeInsurance"	:	nEndPriceLifeInsurance	,
	"nBasePriceBasicInsurance"	:	nBasePriceBasicInsurance	,
	"nBasePriceDentalInsurance"	:	nBasePriceDentalInsurance	,
	"nBasePriceLifeInsurance"	:	nBasePriceLifeInsurance	,
	"nBasePriceAlternativeInsurance"	:	nBasePriceAlternativeInsurance	,
	"dtCreated"	:	formatDate(new Date())	,
	"dtModified"	:	formatDate(new Date())	,
	"processVersion"	:	execution.version	
});</camunda:script>
            </camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Content-Type">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
            <camunda:outputParameter name="nPolicyNumber">
              <camunda:script scriptFormat="JavaScript">object=JSON.parse(response);
nPolicyNumber=9770000+object.nRowNumber;</camunda:script>
            </camunda:outputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0jfpb9v</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1612m08</bpmn:outgoing>
      <bpmn:dataOutputAssociation id="DataOutputAssociation_1r0alpl">
        <bpmn:targetRef>DataStoreReference_customerData</bpmn:targetRef>
      </bpmn:dataOutputAssociation>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_0jfpb9v" sourceRef="Task_calculatePrices" targetRef="Task_InsertContractToDatabase" />
    <bpmn:sequenceFlow id="SequenceFlow_1612m08" sourceRef="Task_InsertContractToDatabase" targetRef="Task_createContract" />
    <bpmn:serviceTask id="Task_createContract" name="Create contract">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="method">POST</camunda:inputParameter>
            <camunda:inputParameter name="url">https://hook.integromat.com/cen1nmnjc8fl8rwa2fhhdjfs5s84d8rp</camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Content-Type">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
            <camunda:inputParameter name="payload">
              <camunda:script scriptFormat="JavaScript">function formatDate(date) {
    var d = new Date(date),
        month = '' + (d.getMonth() + 1),
        day = '' + d.getDate(),
        year = d.getFullYear();

    if (month.length &lt; 2) month = '0' + month;
    if (day.length &lt; 2) day = '0' + day;

    return [year, month, day].join('-');
}

function formatDate2(date) {
    var d = new Date(date),
        month = '' + (d.getMonth() + 1),
        day = '' + d.getDate(),
        year = d.getFullYear();

    if (month.length &lt; 2) month = '0' + month;
    if (day.length &lt; 2) day = '0' + day;

    return [year, month, day].join('');
}

function formatDate3(date) {
    var d = new Date(date),
        month = '' + (d.getMonth() + 1),
        day = '' + d.getDate(),
        year = d.getFullYear();

    if (month.length &lt; 2) month = '0' + month;
    if (day.length &lt; 2) day = '0' + day;

    return [day, month, year].join('.');
}


out=JSON.stringify(
{
	"sFirstName": sFirstName,
	"sLastName": sLastName,
	"eGender": eGender,
	"sEmail": sEmail,
	"sApplicationID": execution.processInstanceId,
	"sStatus": "accepted",
	"dBirthDate"	:	dBirthDate	,
	"eGender"	:	eGender	,
	"nAge"	:	nAge	,
	"eCitizenShip"	:	eCitizenShip	,
	"sStreet"	:	sStreet	,
	"nZipCode"	:	nZipCode	,
	"sCity"	:	sCity	,
	"sEmail"	:	sEmail	,
	"eBaseInsuranceType"	:	eBaseInsuranceType	,
	"eFranchise"	:	eFranchise	,
	"bAccidentCoverage"	:	bAccidentCoverage	,
	"bAlternativeInsurance"	:	bAlternativeInsurance	,
	"eAlternativeInsuranceType"	:	eAlternativeInsuranceType	,
	"bDentalTreatment"	:	bDentalTreatment	,
	"eDentalTreatmentCoverage"	:	eDentalTreatmentCoverage	,
	"bLifeInsurance"	:	bLifeInsurance	,
	"eLifeInsuranceCoverage"	:	eLifeInsuranceCoverage	,
	"bDisabilityOrBirthDefect"	:	bDisabilityOrBirthDefect	,
	"bOngoingTreatmentOrSurgery"	:	bOngoingTreatmentOrSurgery	,
	"bPastRejection"	:	bPastRejection	,
	"bDrugTaker"	:	bDrugTaker	,
	"bHivInfected"	:	bHivInfected	,
	"fHeight"	:	fHeight	,
	"fWeight"	:	fWeight	,
	"bBodybuilder"	:	bBodybuilder	,
	"fBMI"	:	fBMI	,
	"sAreaType"	:	sAreaType	,
	"nPersonFactor"	:	nPersonFactor	,
	"sPersonProfile"	:	sPersonProfile	,
	"nEndPriceDentalInsurance"	:	nEndPriceDentalInsurance	,
	"nEndPriceBasicInsurance"	:	nEndPriceBasicInsurance	,
	"nEndPriceAlternativeInsurance"	:	nEndPriceAlternativeInsurance	,
	"nEndPriceLifeInsurance"	:	nEndPriceLifeInsurance	,
	"nBasePriceBasicInsurance"	:	nBasePriceBasicInsurance	,
	"nBasePriceDentalInsurance"	:	nBasePriceDentalInsurance	,
	"nBasePriceLifeInsurance"	:	nBasePriceLifeInsurance	,
	"nBasePriceAlternativeInsurance"	:	nBasePriceAlternativeInsurance	,
	"dtCreated"	:	formatDate(new Date())	,
	"dtModified"	:	formatDate(new Date())	,
	"processVersion"	:	execution.version,
	"nPolicyNumber": nPolicyNumber,
        "sYearMonthDay": formatDate2(new Date()),
	"dToday": formatDate3(new Date())
});</camunda:script>
            </camunda:inputParameter>
            <camunda:outputParameter name="sContractUrl">
              <camunda:script scriptFormat="JavaScript">object=JSON.parse(response);
sContractUrl=object.sContractUrl;</camunda:script>
            </camunda:outputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1612m08</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_09k1umo</bpmn:outgoing>
      <bpmn:property id="Property_0j4vnah" name="__targetRef_placeholder" />
      <bpmn:dataInputAssociation id="DataInputAssociation_0k26eja">
        <bpmn:sourceRef>DataStoreReference_customerData</bpmn:sourceRef>
        <bpmn:targetRef>Property_0j4vnah</bpmn:targetRef>
      </bpmn:dataInputAssociation>
      <bpmn:dataOutputAssociation id="DataOutputAssociation_0e6ppim">
        <bpmn:targetRef>DataStoreReference_customerData</bpmn:targetRef>
      </bpmn:dataOutputAssociation>
      <bpmn:dataOutputAssociation id="DataOutputAssociation_1hkscvy">
        <bpmn:targetRef>DataObjectReference_contract</bpmn:targetRef>
      </bpmn:dataOutputAssociation>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_09k1umo" sourceRef="Task_createContract" targetRef="Task_sendContractToCustomer" />
    <bpmn:sequenceFlow id="SequenceFlow_0x57k0p" sourceRef="Task_sendContractToCustomer" targetRef="IntermediateThrowEvent_receiveSignedContract" />
    <bpmn:dataObjectReference id="DataObjectReference_contract" name="contract" dataObjectRef="DataObject_0sbpkil" />
    <bpmn:dataObject id="DataObject_0sbpkil" />
  </bpmn:process>
  <bpmn:message id="Message_0vsfji7" name="Message_0e7eoe9" />
  <bpmn:message id="Message_016opmc" name="Message_17nu932" />
  <bpmn:message id="Message_0m6nu6i" name="Message_2vl7cue" />
  <bpmn:message id="Message_0qhxvl8" name="Message_220cs7l" />
  <bpmn:message id="Message_0qbnllw" name="Message_0gi9a73" />
  <bpmn:message id="Message_1dj4s63" name="Message_1eea03e" />
  <bpmn:message id="Message_1mwdi79" name="Message_38tpcvo" />
  <bpmn:message id="Message_0pyxu08" name="Message_307ukjl" />
  <bpmn:message id="Message_1beuwrl" name="Message_3k51hi5" />
  <bpmn:message id="Message_0ucp0cl" name="Message_3i5rrmr" />
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="HealthInsuranceProcessDavid">
      <bpmndi:BPMNShape id="Participant_11arpnk_di" bpmnElement="Participant_11arpnk" isHorizontal="true">
        <dc:Bounds x="156" y="416" width="2281" height="773" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Participant_1wbjrzx_di" bpmnElement="Participant_17bhftx" isHorizontal="true">
        <dc:Bounds x="156" y="81" width="1966" height="164" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="StartEvent_1c4x6xz_di" bpmnElement="StartEvent_receiveApplication">
        <dc:Bounds x="261" y="660" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="253" y="703" width="53" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="MessageFlow_17zf0ro_di" bpmnElement="MessageFlow_17zf0ro">
        <di:waypoint x="279" y="245" />
        <di:waypoint x="279" y="660" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_10qbl19_di" bpmnElement="ExclusiveGateway_resultAssessment" isMarkerVisible="true">
        <dc:Bounds x="832" y="653" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="775" y="691" width="55" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_0bltqy3_di" bpmnElement="Lane_0bltqy3" isHorizontal="true">
        <dc:Bounds x="188" y="416" width="2251" height="655" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1o6jn2x_di" bpmnElement="SequenceFlow_1o6jn2x">
        <di:waypoint x="869" y="691" />
        <di:waypoint x="882" y="705" />
        <di:waypoint x="882" y="915" />
        <di:waypoint x="923" y="915" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="889" y="920" width="28" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1otr561_di" bpmnElement="SequenceFlow_1otr561">
        <di:waypoint x="857" y="653" />
        <di:waypoint x="857" y="606" />
        <di:waypoint x="923" y="606" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="865" y="585" width="34" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="DataObjectReference_01zbefm_di" bpmnElement="DataObjectReference_contract">
        <dc:Bounds x="1304" y="701" width="36" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1303" y="758" width="41" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_1s5pmc3_di" bpmnElement="EndEvent_applicationClosed">
        <dc:Bounds x="2298" y="584" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2272" y="560" width="88" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_075u5a4_di" bpmnElement="SequenceFlow_075u5a4">
        <di:waypoint x="1989" y="602" />
        <di:waypoint x="2022" y="602" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="DataStoreReference_1201ia2_di" bpmnElement="DataStoreReference_customerData">
        <dc:Bounds x="1419" y="803" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1418" y="860" width="53" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="DataOutputAssociation_0bedaj4_di" bpmnElement="DataOutputAssociation_0bedaj4">
        <di:waypoint x="1939" y="642" />
        <di:waypoint x="1939" y="828" />
        <di:waypoint x="1469" y="828" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="DataInputAssociation_10u0hay_di" bpmnElement="DataInputAssociation_10u0hay">
        <di:waypoint x="1469" y="828" />
        <di:waypoint x="1939" y="828" />
        <di:waypoint x="1939" y="642" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="MessageFlow_0bnmkvc_di" bpmnElement="MessageFlow_0bnmkvc">
        <di:waypoint x="1436" y="566" />
        <di:waypoint x="1436" y="245" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_1o8p59f_di" bpmnElement="Task_updateStatusInContractDatabase">
        <dc:Bounds x="1889" y="562" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_0dfyjmg_di" bpmnElement="Task_rejectCase">
        <dc:Bounds x="923" y="875" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="CallActivity_0hnq19f_di" bpmnElement="Task_calculatePrices">
        <dc:Bounds x="923" y="566" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1erw4e2_di" bpmnElement="SequenceFlow_1erw4e2">
        <di:waypoint x="650" y="978" />
        <di:waypoint x="709" y="978" />
        <di:waypoint x="709" y="718" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1vz2tl9_di" bpmnElement="SequenceFlow_1vz2tl9">
        <di:waypoint x="297" y="678" />
        <di:waypoint x="338" y="678" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_0g4kkl9_di" bpmnElement="ExclusiveGateway_SupplementaryInsruanceSelected" isMarkerVisible="true">
        <dc:Bounds x="338" y="653" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="325" y="603" width="75" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_039mupp_di" bpmnElement="SequenceFlow_039mupp">
        <di:waypoint x="363" y="703" />
        <di:waypoint x="363" y="978" />
        <di:waypoint x="434" y="978" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="366" y="834" width="17" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1v49919_di" bpmnElement="SequenceFlow_1v49919">
        <di:waypoint x="759" y="678" />
        <di:waypoint x="832" y="678" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="IntermediateCatchEvent_110ezri_di" bpmnElement="StartEvent_1elbdov">
        <dc:Bounds x="614" y="960" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="591" y="1003" width="84" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0tt7isc_di" bpmnElement="SequenceFlow_0tt7isc">
        <di:waypoint x="534" y="978" />
        <di:waypoint x="614" y="978" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="MessageFlow_0ygn8rd_di" bpmnElement="MessageFlow_0ygn8rd">
        <di:waypoint x="632" y="245" />
        <di:waypoint x="632" y="960" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="MessageFlow_0ogch6n_di" bpmnElement="MessageFlow_0ogch6n">
        <di:waypoint x="490" y="938" />
        <di:waypoint x="490" y="245" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_191bv9v_di" bpmnElement="Task_createContract">
        <dc:Bounds x="1246" y="567" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_1kyyzdm_di" bpmnElement="Task_InsertContractToDatabase">
        <dc:Bounds x="1116" y="566" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="DataOutputAssociation_1r0alpl_di" bpmnElement="DataOutputAssociation_1r0alpl">
        <di:waypoint x="1166" y="646" />
        <di:waypoint x="1166" y="784" />
        <di:waypoint x="1344" y="784" />
        <di:waypoint x="1419" y="817" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="MessageFlow_0id0k09_di" bpmnElement="MessageFlow_0id0k09">
        <di:waypoint x="1111" y="897" />
        <di:waypoint x="1111" y="245" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0q9rb4q_di" bpmnElement="SequenceFlow_0q9rb4q">
        <di:waypoint x="1023" y="915" />
        <di:waypoint x="1093" y="915" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="IntermediateThrowEvent_0j4avj6_di" bpmnElement="EndEvent_emailRejectApplication">
        <dc:Bounds x="1093" y="897" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1079" y="942" width="63" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_0055xl1_di" bpmnElement="EndEvent_0055xl1">
        <dc:Bounds x="1351" y="897" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1325" y="940" width="89" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0cbd3i6_di" bpmnElement="SequenceFlow_0cbd3i6">
        <di:waypoint x="1129" y="915" />
        <di:waypoint x="1351" y="915" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="DataInputAssociation_03u6bmu_di" bpmnElement="DataInputAssociation_03u6bmu">
        <di:waypoint x="1340" y="726" />
        <di:waypoint x="1436" y="726" />
        <di:waypoint x="1436" y="646" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="SendTask_19p6w5x_di" bpmnElement="Task_AskHealthQuestions">
        <dc:Bounds x="434" y="938" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="SendTask_0ab55oz_di" bpmnElement="Task_sendContractToCustomer">
        <dc:Bounds x="1386" y="566" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_18y3ey3_di" bpmnElement="SequenceFlow_18y3ey3">
        <di:waypoint x="388" y="678" />
        <di:waypoint x="659" y="678" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="499" y="688" width="13" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0gl41x5_di" bpmnElement="SequenceFlow_0gl41x5">
        <di:waypoint x="2058" y="602" />
        <di:waypoint x="2298" y="602" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="IntermediateThrowEvent_19pc5i1_di" bpmnElement="IntermediateThrowEvent_0hrosi3">
        <dc:Bounds x="2022" y="584" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2006" y="627" width="69" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="MessageFlow_1b1wv85_di" bpmnElement="MessageFlow_1b1wv85">
        <di:waypoint x="2040" y="584" />
        <di:waypoint x="2040" y="245" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="CallActivity_1jcl1p3_di" bpmnElement="Task_assesCase">
        <dc:Bounds x="659" y="638" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_1q1uc51_di" bpmnElement="ExclusiveGateway_1q1uc51" isMarkerVisible="true">
        <dc:Bounds x="1714" y="577" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1697" y="527" width="84" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0r90eeg_di" bpmnElement="SequenceFlow_0r90eeg">
        <di:waypoint x="1764" y="602" />
        <di:waypoint x="1889" y="602" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1820" y="584" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="IntermediateCatchEvent_1yy8rpz_di" bpmnElement="IntermediateThrowEvent_receiveSignedContract">
        <dc:Bounds x="1554" y="584" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1534" y="631" width="76" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="MessageFlow_1rhs2bg_di" bpmnElement="MessageFlow_1rhs2bg">
        <di:waypoint x="1572" y="245" />
        <di:waypoint x="1572" y="584" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_18kpqik_di" bpmnElement="SequenceFlow_18kpqik">
        <di:waypoint x="1590" y="602" />
        <di:waypoint x="1714" y="602" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Lane_0cefaof_di" bpmnElement="Lane_0cefaof" isHorizontal="true">
        <dc:Bounds x="186" y="1071" width="2251" height="118" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1d8u0in_di" bpmnElement="SequenceFlow_1d8u0in">
        <di:waypoint x="1739" y="627" />
        <di:waypoint x="1739" y="847" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1747" y="734" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="DataOutputAssociation_1yh4nyw_di" bpmnElement="DataOutputAssociation_1yh4nyw">
        <di:waypoint x="973" y="875" />
        <di:waypoint x="973" y="828" />
        <di:waypoint x="1419" y="828" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1i3c337_di" bpmnElement="SequenceFlow_1i3c337">
        <di:waypoint x="857" y="703" />
        <di:waypoint x="857" y="1122" />
        <di:waypoint x="923" y="1122" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="862" y="1009" width="60" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_1ajtbg0_di" bpmnElement="Task_humanDecides">
        <dc:Bounds x="923" y="1082" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_125s3z0_di" bpmnElement="SequenceFlow_125s3z0">
        <di:waypoint x="945" y="1162" />
        <di:waypoint x="945" y="1177" />
        <di:waypoint x="833" y="1177" />
        <di:waypoint x="833" y="754" />
        <di:waypoint x="851" y="697" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0tedwyb_di" bpmnElement="SequenceFlow_0tedwyb">
        <di:waypoint x="1789" y="887" />
        <di:waypoint x="2316" y="887" />
        <di:waypoint x="2316" y="620" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_0cqfymr_di" bpmnElement="Task_updateApplicationStatusToUnsigned">
        <dc:Bounds x="1689" y="847" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="DataOutputAssociation_1ck8d99_di" bpmnElement="DataOutputAssociation_1ck8d99">
        <di:waypoint x="1689" y="887" />
        <di:waypoint x="1513" y="887" />
        <di:waypoint x="1469" y="849" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0jfpb9v_di" bpmnElement="SequenceFlow_0jfpb9v">
        <di:waypoint x="1023" y="606" />
        <di:waypoint x="1116" y="606" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="DataOutputAssociation_0e6ppim_di" bpmnElement="DataOutputAssociation_0e6ppim">
        <di:waypoint x="1323" y="647" />
        <di:waypoint x="1394" y="752" />
        <di:waypoint x="1444" y="752" />
        <di:waypoint x="1444" y="803" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="DataInputAssociation_0k26eja_di" bpmnElement="DataInputAssociation_0k26eja">
        <di:waypoint x="1444" y="803" />
        <di:waypoint x="1444" y="754" />
        <di:waypoint x="1394" y="754" />
        <di:waypoint x="1323" y="647" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1612m08_di" bpmnElement="SequenceFlow_1612m08">
        <di:waypoint x="1216" y="606" />
        <di:waypoint x="1246" y="607" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_09k1umo_di" bpmnElement="SequenceFlow_09k1umo">
        <di:waypoint x="1346" y="607" />
        <di:waypoint x="1366" y="607" />
        <di:waypoint x="1366" y="606" />
        <di:waypoint x="1386" y="606" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0x57k0p_di" bpmnElement="SequenceFlow_0x57k0p">
        <di:waypoint x="1486" y="606" />
        <di:waypoint x="1520" y="606" />
        <di:waypoint x="1520" y="602" />
        <di:waypoint x="1554" y="602" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="DataOutputAssociation_1hkscvy_di" bpmnElement="DataOutputAssociation_1hkscvy">
        <di:waypoint x="1278" y="647" />
        <di:waypoint x="1278" y="726" />
        <di:waypoint x="1304" y="726" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
